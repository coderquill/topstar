{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n/** @jsx jsx */\n\nimport { jsx } from \"@emotion/core\";\nimport { useEffect, useState, forwardRef, useRef } from \"react\";\nimport Box from \"../Box\";\nexport function useHasImageLoaded(props) {\n  var src = props.src,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled;\n  var isMounted = useRef(true);\n\n  var _useState = useState(false),\n      hasLoaded = _useState[0],\n      setHasLoaded = _useState[1];\n\n  useEffect(function () {\n    if (!src || !enabled) {\n      return;\n    }\n\n    var image = new window.Image();\n    image.src = src;\n\n    image.onload = function (event) {\n      if (isMounted.current) {\n        setHasLoaded(true);\n        onLoad && onLoad(event);\n      }\n    };\n\n    image.onerror = function (event) {\n      if (isMounted.current) {\n        setHasLoaded(false);\n        onError && onError(event);\n      }\n    };\n  }, [src, onLoad, onError, enabled]);\n  useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  return hasLoaded;\n}\nvar NativeImage = forwardRef(function (_ref, ref) {\n  var htmlWidth = _ref.htmlWidth,\n      htmlHeight = _ref.htmlHeight,\n      alt = _ref.alt,\n      props = _objectWithoutPropertiesLoose(_ref, [\"htmlWidth\", \"htmlHeight\", \"alt\"]);\n\n  return jsx(\"img\", _extends({\n    width: htmlWidth,\n    height: htmlHeight,\n    ref: ref,\n    alt: alt\n  }, props));\n});\nvar Image = forwardRef(function (props, ref) {\n  var src = props.src,\n      fallbackSrc = props.fallbackSrc,\n      onError = props.onError,\n      onLoad = props.onLoad,\n      ignoreFallback = props.ignoreFallback,\n      rest = _objectWithoutPropertiesLoose(props, [\"src\", \"fallbackSrc\", \"onError\", \"onLoad\", \"ignoreFallback\"]);\n\n  var hasLoaded = useHasImageLoaded({\n    src: src,\n    onLoad: onLoad,\n    onError: onError,\n    enabled: !Boolean(ignoreFallback)\n  });\n  var imageProps = ignoreFallback ? {\n    src: src,\n    onLoad: onLoad,\n    onError: onError\n  } : {\n    src: hasLoaded ? src : fallbackSrc\n  };\n  return jsx(Box, _extends({\n    as: NativeImage,\n    ref: ref\n  }, imageProps, rest));\n});\nImage.displayName = \"Image\";\nexport default Image;","map":{"version":3,"sources":["/home/rupali/projects/githunt/ghunt/node_modules/@chakra-ui/core/dist/es/Image/index.js"],"names":["_extends","_objectWithoutPropertiesLoose","jsx","useEffect","useState","forwardRef","useRef","Box","useHasImageLoaded","props","src","onLoad","onError","_props$enabled","enabled","isMounted","_useState","hasLoaded","setHasLoaded","image","window","Image","onload","event","current","onerror","NativeImage","_ref","ref","htmlWidth","htmlHeight","alt","width","height","fallbackSrc","ignoreFallback","rest","Boolean","imageProps","as","displayName"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\n\n/** @jsx jsx */\nimport { jsx } from \"@emotion/core\";\nimport { useEffect, useState, forwardRef, useRef } from \"react\";\nimport Box from \"../Box\";\nexport function useHasImageLoaded(props) {\n  var src = props.src,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      _props$enabled = props.enabled,\n      enabled = _props$enabled === void 0 ? true : _props$enabled;\n  var isMounted = useRef(true);\n\n  var _useState = useState(false),\n      hasLoaded = _useState[0],\n      setHasLoaded = _useState[1];\n\n  useEffect(function () {\n    if (!src || !enabled) {\n      return;\n    }\n\n    var image = new window.Image();\n    image.src = src;\n\n    image.onload = function (event) {\n      if (isMounted.current) {\n        setHasLoaded(true);\n        onLoad && onLoad(event);\n      }\n    };\n\n    image.onerror = function (event) {\n      if (isMounted.current) {\n        setHasLoaded(false);\n        onError && onError(event);\n      }\n    };\n  }, [src, onLoad, onError, enabled]);\n  useEffect(function () {\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  return hasLoaded;\n}\nvar NativeImage = forwardRef(function (_ref, ref) {\n  var htmlWidth = _ref.htmlWidth,\n      htmlHeight = _ref.htmlHeight,\n      alt = _ref.alt,\n      props = _objectWithoutPropertiesLoose(_ref, [\"htmlWidth\", \"htmlHeight\", \"alt\"]);\n\n  return jsx(\"img\", _extends({\n    width: htmlWidth,\n    height: htmlHeight,\n    ref: ref,\n    alt: alt\n  }, props));\n});\nvar Image = forwardRef(function (props, ref) {\n  var src = props.src,\n      fallbackSrc = props.fallbackSrc,\n      onError = props.onError,\n      onLoad = props.onLoad,\n      ignoreFallback = props.ignoreFallback,\n      rest = _objectWithoutPropertiesLoose(props, [\"src\", \"fallbackSrc\", \"onError\", \"onLoad\", \"ignoreFallback\"]);\n\n  var hasLoaded = useHasImageLoaded({\n    src: src,\n    onLoad: onLoad,\n    onError: onError,\n    enabled: !Boolean(ignoreFallback)\n  });\n  var imageProps = ignoreFallback ? {\n    src: src,\n    onLoad: onLoad,\n    onError: onError\n  } : {\n    src: hasLoaded ? src : fallbackSrc\n  };\n  return jsx(Box, _extends({\n    as: NativeImage,\n    ref: ref\n  }, imageProps, rest));\n});\nImage.displayName = \"Image\";\nexport default Image;"]},"metadata":{},"sourceType":"module"}